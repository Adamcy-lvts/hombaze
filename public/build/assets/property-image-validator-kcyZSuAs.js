async function _(g){return new Promise((d,n)=>{const s=new FileReader;s.onload=h=>{const e=new Image;e.onload=()=>{const t=e.naturalWidth,a=e.naturalHeight;if(t<1024||a<768){n("This photo is too small (low quality). Please select a clearer photo at least 1024x768px.");return}let r=t,l=a;if(t>2560||a>1920){const o=Math.min(2560/t,1920/a);r=Math.round(t*o),l=Math.round(a*o)}const i=document.createElement("canvas");i.width=r,i.height=l;const c=i.getContext("2d");c.imageSmoothingEnabled=!0,c.imageSmoothingQuality="high",c.drawImage(e,0,0,r,l),i.toBlob(o=>{if(!o){n("We couldn't process this image. Please try another one.");return}const I=new File([o],g.name.replace(/\.[^/.]+$/,"")+".jpg",{type:"image/jpeg",lastModified:Date.now()});d(I)},"image/jpeg",.8)},e.onerror=()=>n("This file doesn't look like a valid image."),e.src=h.target.result},s.onerror=()=>n("We couldn't read this file. Please try again."),s.readAsDataURL(g)})}export{_ as v};
